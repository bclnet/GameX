= Geography
TBD

Abandon::
TBD

[cols="1,4a"]
|===
|Method |Body

|{init}
|
Folder per family, folder per game.

root = getPath()
stop if the {root} does not exist
each parent directory is a game family, and each child directory is a game
paths = { parent dirs : [child dirs] }

|getPath()
|
find the first directory from the following paths:
[cols="1,2"]
!===
!System !Paths

!Windows
![{E:\}/AbandonLibrary]

!Linux
![{~}/AbandonLibrary]

!Darwin
![{~ or /Users/Shared}/AbandonLibrary]
!===
|===


Archive::
TBD

[cols="1,4a"]
|===
|Method |Body

|{init}
|
Folder per family, folder per game.

root = getPath()
stop if the {root} does not exist
each parent directory is a game family, and each child directory is a game
paths = { parent dirs : [child dirs] }


|getPath()
|
find the first directory from the following paths:
[cols="1,2"]
!===
!System !Paths

!Windows
!root = E:\ + paths = [{root}/ArchiveLibrary]

!Linux
!root = ~ + paths = [{root}/ArchiveLibrary]

!Darwin
!roots = [~, /Users/Shared] + paths = [{roots}/ArchiveLibrary]
!===
|===

Blizzard::
Battle.net is the store manager used for all Blizzard games.

[cols="1,4a"]
|===
|Method |Body

|{init}
|
using Google's ProtoBuf decode the 'product.db' file located in the Battle.net data directory. 
for each ProductInstall use the Settings.InstallPath

The file is decoded with the 'ProductInstall:Settings.InstallPath' field holding the installed games location.

root = getPath()
stop if the {root}\product.db does not exist
productDb = parse the file with Google ProtoBuf's productDb parser

|getPath()
|
find the first directory from the following paths:
[cols="1,2"]
!===
!System !Paths

!Windows
!root = %AllUsers% + paths = [{root}/Battle.net/Agent]

!Linux
!root = ~ + paths = [{root}/Battle.net/Agent/data]

!Darwin
!roots = [~, /Users/Shared] + paths = [{roots}/Battle.net/Agent/data]
!===
|===

Direct::
Direct file location

[cols="1,4a"]
|===
|Method  |Body
 
|getPathByKey(key: str)
|
return key
|===

Epic::
Epic Games Launcher is the store manager used for all Epic games.

[cols="1,4a"]
|===
|Method |Body

|{init}
|
The 'Manifests' directory holds a JSON file ending in .item per game with the 'InstallLocation' field holding the installed games location.

root = getPath()
stop if the {root}\Manifests does not exist

|getPath()
|
find the first directory from the following paths:
[cols="1,2"]
!===
!System !Paths

!Windows
!root = %AllUsers% + paths = [{root}/Epic/EpicGamesLauncher/Data]

!Linux
!root = ~ + paths = [{root}/Epic/EpicGamesLauncher/Data]

!Darwin
!roots = [~, /Users/Shared] + paths = [{roots}/Epic/EpicGamesLauncher/Data]
!===
|===

Gog::
GOG Gallaxy is the the store manager used for all GOG games.

[cols="1,4a"]
|===
|Method |Body

|{init}
|
The Gog Store Manager locates the 'galaxy-2.0.db' file located in the store managers directory.
The file is decoded using Sqlite3 with the 'SELECT productId, installationPath FROM InstalledBaseProducts' query holding the installed games location.

root = getPath()
stop if the {root}\galaxy-2.0.db does not exist
open file with sqlite
query SELECT productId, installationPath FROM InstalledBaseProducts

|getPath()
|
find the first directory from the following paths:
[cols="1,2"]
!===
!System !Paths

!Windows
!root = %AllUsers% + paths = [{root}/GOG.com/Galaxy/storage]

!Linux
!root = ~ + paths = [{root}/GOG.com/Galaxy/Storage]

!Darwin
!roots = [~, /Users/Shared] + paths = [{roots}/GOG.com/Galaxy/Storage]
!===
|===

Local::
TBD

[cols="1,4a"]
|===
|Method |Body

|{init}
|
The Gog Store Manager locates the 'galaxy-2.0.db' file located in the store managers directory.
The file is decoded using Sqlite3 with the 'SELECT productId, installationPath FROM InstalledBaseProducts' query holding the installed games location.

root = getPath()
stop if the {root}\galaxy-2.0.db does not exist
open file with sqlite
query SELECT productId, installationPath FROM InstalledBaseProducts
|===

Steam::
Steam is the the store manager used for all Steam games.
[cols="1,4a"]
|===
|Method |Body

|{init}
|
The Steam Store Manager locates the 'libraryfolders.vdf' file located in the managers directory.
The file is decoded using the 'AcfStruct' encoding with the 'path' field locating the other 'appmanifest_{appId}.acf' files.
These files are then decoded using the 'AcfStruct' encoding with the 'AppState.installdir' field holding the installed games location.

root = getPath()
stop if the {root}\Manifests does not exist

|getPath()
|
find the first directory from the following paths:
[cols="1,2"]
!===
!System !Paths

!Windows
!Registry HKEY_CURRENT_USER:SOFTWARE\Valve\Steam:SteamPath or HKEY_LOCAL_MACHINE:SOFTWARE\Valve\Steam:SteamPath

!Linux
!root = ~ + paths = [{root}/.steam, {root}/.steam/steam, {root}/.steam/root, {root}/.local/share/Steam]/appcache

!Darwin
!roots = [~, /Users/Shared] + paths = [{roots}/'Library/Application Support/Steam]
!===

2+a|
class HERE

|===


Ubisoft::
Ubisoft Connect is the store manager used for all Ubisoft games.

[cols="1,4a"]
|===
|Method |Body

|{init}
|
tbd

|getPath()
|
find the first directory from the following paths:
[cols="1,2"]
!===
!System !Paths

!Windows
!root = %AllUsers% + paths = [{root}/Ubisoft Game Launcher]

!Linux
!root = ~ + paths = [{root}/Ubisoft Game Launcher]

!Darwin
!roots = [~, /Users/Shared] + paths = [{roots}/Ubisoft Game Launcher]
!===
|===


WinReg::
TBD


[cols="1,4a"]
|===
|Method |Body

|{init}
|
tbd

|getPathByKey()
|
Search for the game using the specified registry key(s) in the Windows Registry under the following locations:
    HKEY_LOCAL_MACHINE/SOFTWARE
    KEY_CURRENT_USER/SOFTWARE
    HKEY_CLASSES_ROOT/VirtualStore/MACHINE/SOFTWARE
Once a registry key is found a directory is attempted to be located by searching the following registry key values:
    Path
    Install Dir
    InstallDir
    InstallLocation
Or getting the directory location from the file set in the following values:
    Installed Path
    ExePath
    Exe

|{init}
|
* ApplicationByRegistry
    Search for the game using the specified registry key(s) in the Windows Registry under the following locations:
        * HKEY_LOCAL_MACHINE/SOFTWARE
        * KEY_CURRENT_USER/SOFTWARE
        * HKEY_CLASSES_ROOT/VirtualStore/MACHINE/SOFTWARE
        * HKEY_LOCAL_MACHINE/SOFTWARE/Wow6432Node
        * KEY_CURRENT_USER/SOFTWARE/Wow6432Node
        * HKEY_CLASSES_ROOT/VirtualStore/MACHINE/SOFTWARE/Wow6432Node
    Once a registry key is found a directory is attempted to be located by searching the following registry key values:
        * Path
        * Install Dir
        * InstallDir
        * InstallLocation
    Or getting the directory location from the file set in the following values:
        * Installed Path
        * ExePath
        * Exe
|===   
